<button onclick="playFromHttp()">play</button>
<input type="file" id="fileInput" name="file" multiple="multiple" >

<script type="text/javascript">

// var bytes = [255,254,82,151,37,102,194,114,18,154,242,102,84,73,84,50,0,0,0,13,0,0,1,255,254,82,151,37,102,194,114,18,154,242,102,84,80,69,49,0,0,0,17,0,0,1,255,254,181,48,243,48,220,48,222,48,185,48,191,48,252,48,84,80,79,83,0,0,0,5,0,0,1,255,254,49,0,84,82,67,75,0,0,0,5,0,0,1,255,254,49,0,65,80,73,67,0,6,152,37,0,0,0,105,109,97,103,101,47,106,112,101,103,0,6,0,137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,2,128,0,0,2,128,8,6,0,0,0,12,205,201,35,0,0,0,6,98,75,71,68,0,255,0,255,0,255,160,189,167,147,0,0,128,0,73,68,65,84,120,218,236,
// 255,254,105,91,230,199,189,87,213,176,248,187,10,195,113,188,204,113,5,225,135,188,150,106,116,86,181,32,116,149,136,174,15,154,203,231,51,77,79,24,134,104,183,219,168,213,26,184,190,238,233,232,38,165,14,94,94,94,198,210,210,18,186,221,174,206,230,213,202,70,39,15,216,160,129,133,241,107,14,66,40,162,40,194,252,252,124,201,15,140,82,130,221,157,119,72,226,33,118,222,237,40,149,252,197,57,6,131,1,8,97,168,215,27,168,77,116,209,233,78,96,125,99,3,81,189,142,123,247,238,35,75,115,180,59,29,44,46,46,162,213,106,193,243,60,251,90,76,7,170,138,3,9,202,60,80,80,112,20,226,174,130,70,33,74,166,214,110,74,67,193,105,188,137,208,16,226,90,205,200,49,92,213,219,26,45,105,121,182,110,241,83,32,218,100,204,239,153,245,36,156,226,95,115,45,117,221,102,126,159,8,85,204,21,106,104,117,220,87,237,155,132,20,144,28,144,130,91,97,25,33,38,9,137,90,68,148,194,160,163,80,191,3,9,194,212,52,131,128,218,215,175,252,237,160,11,38,114,199,200,236,230,7,23,28,73,18,35,211,209,144,97,24,90,101,104,158,115,203,251,35,142,9,189,117,35,96,164,
// 255,253,177,239,177,44,26,176,207,31,31,46,2,145,206,8,201,140,97,204,24,164,240,233,162,214,231,238,166,103,141,168,84,229,78,22,168,30,145,102,89,166,188,157,178,28,128,34,228,182,180,194,105,106,106,26,203,203,43,88,92,124,135,55,111,182,177,191,191,143,209,104,100,159,164,65,186,84,222,97,219,162,84,190,31,104,85,175,246,88,147,25,32,213,152,196,221,216,13,49,157,49,119,108,166,161,111,46,192,121,166,187,165,28,130,23,27,164,58,168,18,29,195,197,17,69,33,152,79,145,100,25,24,243,11,114,187,20,206,24,174,120,47,212,33,37,75,6,153,31,139,128,185,220,48,183,40,116,147,38,204,166,31,4,1,102,102,103,17,69,17,102,103,103,177,177,177,129,31,127,252,17,63,254,248,35,222,188,121,131,179,179,179,146,154,122,103,103,7,253,126,15,175,94,189,196,236,236,44,86,86,86,176,182,182,134,181,181,53,141,10,54,245,198,233,149,172,97,238,66,184,126,46,142,197,135,254,124,245,32,175,230,150,142,227,51,222,246,55,170,163,153,113,35,26,151,74,160,190,47,198,122,1,222,198,235,116,31,195,245,119,116,21,128,234,53,168,67,193,247,125,68,145,50,116,14,131,16,30,243,0,1,228,89,193,201,180,241,127,32,144,162,236,167,231,242,95,75,92,59,158,131,17,130,137,118,27,114,117,5,195,97,31,163,209,16,245,122,13,156,11,172,174,174,97,102,102,6,205,86,11,81,164,196,86,113,18,35,77,51,48,230,233,123,48,4,165,164,100,219,100,214,189,155,126,34,184,106,128,60,207,83,8,123,154,162,215,239,99,111,111,15,219,219,219,232,247,251,232,118,187,88,95,95,7,33,4,157,78,7,76,211,13,188,138,2,190,100,79,98,10,64,184,190,121,194,122,220,185,209,115,213,220,217,50,146,200,110,140,229,139,235,148,219,81,166,65,36,185,227,173,169,10,154,204,54,128,105,154,34,73,99,229,209,153,36,72,211,68,255,126,166,211,24,82,228,122,47,180,52,145,60,71,239,186,167,168,48,123,123,56,58,58,194,104,52,194,197,197,5,178,44,67,28,39,120,242,197,8,107,107,107,104,181,218,240,60,95,139,132,136,181,222,145,55,26,200,130,3,88,69,255,92,196,36,8,2,76,207,204,224,209,163,71,10,89,202,18,108,111,191,197,246,246,54,118,118,118,172,178,180,86,171,91,206,177,139,162,37,73,130,56,54,104,94,17,27,104,184,124,166,193,241,153,143,48,40,188,74,163,40,178,162,39,101,208,31,162,86,139,16,213,34,212,181,17,121,163,81,71,187,221,70,211,17,27,29,31,31,225,249,243,231,120,251,246,45,174,175,175,33,4,71,16,120,224,60,208,30,118,176,220,106,147,144,84,205,24,46,223,215,68,251,220,202,95,180,248,179,13,98,165,0,20,218,15,87,74,98,213,201,170,193,55,121,199,202,33,224,226,226,18,111,182,182,177,243,110,23,241,48,1,37,190,166,39,120,152,152,152,192,194,194,2,26,141,38,132,80,54,46,148,48,48,226,129,50,195,1,5,56,87,60,200,56,78,145,165,185,125,15,122,189,30,206,46,46,16,199,74,13,
// 255,253,23,60,127,254,28,231,218,166,73,74,101,151,145,167,57,130,70,128,233,105,37,224,154,158,157,65,183,59,137,249,185,5,172,44,175,98,105,101,5,157,206,36,124,63,212,19,149,28,101,67,104,137,187,140,231,1,165,88,151,218,10,197,188,191,10,24,150,104,183,218,88,95,219,192,236,204,28,152,71,209,106,117,44,138,228,251,129,190,47,169,110,102,57,242,92,
// 255,254,123,156,158,158,162,209,104,224,241,227,199,248,234,171,175,48,55,55,103,149,110,6,153,85,30,110,4,126,224,59,135,88,145,1,77,136,58,128,77,225,229,218,244,184,95,51,95,55,107,221,120,168,245,122,61,156,157,169,141,255,252,252,28,137,230,239,156,95,92,224,245,235,215,184,190,190,70,179,169,70,56,113,28,91,219,20,215,243,175,170,90,206,108,28,87,94,18,19,41,186,130,18,75,48,198,80,175,215,16,70,145,26,53,234,17,84,150,230,150,71,153,100,41,18,61,242,25,12,134,184,184,184,196,198,198,6,150,151,150,49,209,157,0,243,253,34,251,218,225,169,218,77,10,64,142,28,132,228,37,99,115,207,243,44,23,112,48,24,160,215,235,225,252,252,28,151,151,151,22,225,52,175,205,240,210,154,205,166,131,216,41,227,224,137,137,9,76,77,79,162,219,237,162,211,105,163,221,110,107,155,145,166,109,36,13,66,107,179,77,157,6,198,136,133,170,198,217,166,200,204,243,2,145,151,218,54,65,165,155,8,72,153,90,218,0,231,28,84,115,43,149,40,76,81,87,164,84,92,73,223,247,193,179,28,23,231,23,120,243,230,13,158,61,123,134,215,91,175,113,112,112,128,225,112,8,70,152,206,96,13,80,175,55,48,63,63,143,199,143,159,224,203,47,191,194,250,250,6,38,186,93,52,26,77,212,235,13,149,213,235,251,224,122,82,163,14,82,195,7,38,101,167,8,91,11,86,198,95];

var context;    // Audio context
var buf;        // Audio buffer

function init() {
if (!window.AudioContext) {
    if (!window.webkitAudioContext) {
        alert("Your browser does not support any AudioContext and cannot play back this audio.");
        return;
    }
        window.AudioContext = window.webkitAudioContext;
    }

    context = new AudioContext();
}

init();

function playByteArray(arrayBuffer) {
	var source = context.createBufferSource();
    context.decodeAudioData(arrayBuffer, function(buffer) {
		console.log(buffer);
        source.buffer = buffer;
		source.connect(context.destination);
		source.start(0);
    },function(err){
		console.log(err);
	});
}

function playFromHttp(){
	var oReq = new XMLHttpRequest();
	oReq.open("GET", "http://localhost:8080/mp3", true);
	oReq.responseType = "arraybuffer";

	oReq.onload = function (oEvent) {
	var arrayBuffer = oReq.response; // 注意:不是oReq.responseText
	if (arrayBuffer) {
		playByteArray(arrayBuffer)
	}
	};

	oReq.send(null);

}


var fileInput = document.querySelector("#fileInput");
fileInput.addEventListener("change", function (event) {
	var file = fileInput.files[0];
	// 读取File对象中的内容
	var reader = new FileReader();
	reader.onload = function () {
		playByteArray(this.result)
		// console.log(this.result)
	};
	
	reader.readAsArrayBuffer(file);
}, false)
</script>